schema: '2.0'
stages:
  split_data:
    cmd: python src/model/split_data.py --config=params/params.yaml
    deps:
    - path: data/external/emails.csv
      hash: md5
      md5: dc030de2dec828ec7e89adfa8d56927a
      size: 99463046
    - path: src/model/split_data.py
      hash: md5
      md5: 027567403db3846d7e3d6d4ec53a97a5
      size: 1898
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 738c31f2d40892cbb1c7539c5c474d14
      size: 19982620
    - path: data/processed/train.csv
      hash: md5
      md5: f48c7481ecfbb1bffcbe89039626e024
      size: 79480206
  preprocess_train_data:
    cmd: python src/model/preprocess_data.py --config=params/params.yaml
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: f48c7481ecfbb1bffcbe89039626e024
      size: 79480206
    - path: src/model/preprocess_data.py
      hash: md5
      md5: c276a0cbdfe9e7d8b6447a2872daff32
      size: 995
    outs:
    - path: data/processed/train.txt
      hash: md5
      md5: a8cd46161973c2638aa5c6d92ad03413
      size: 79828941
  model_train:
    cmd: python src/model/train.py --config=params/params.yaml
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 738c31f2d40892cbb1c7539c5c474d14
      size: 19982620
    - path: data/processed/train.txt
      hash: md5
      md5: a8cd46161973c2638aa5c6d92ad03413
      size: 79828941
    - path: src/model/train.py
      hash: md5
      md5: bc21761cf6f0e87e0890ebb1b18c914d
      size: 4118
    params:
      params.yaml:
        fasttext.epoch: 10
  log_production_model:
    cmd: python src/model/model_selection.py --config=params/params.yaml
    deps:
    - path: src/model/model_selection.py
      hash: md5
      md5: da35f103490b4096736438eb7ba30454
      size: 1937
    params:
      params.yaml:
        fasttext.epoch: 10
    outs:
    - path: models/fasttext_model
      hash: md5
      md5: cdf28a8ebf4b3343bdcd29fb713038d0
      size: 17436572
